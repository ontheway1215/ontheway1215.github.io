<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-101091518-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="fKSnk-43hoqWu410Gy8MznrpJ9NNVTuz7G-hB2JFi5s">
    
    
    
    <title>ES6新特性(1)——Arguments和Parameters | ChenBlog-chenqiangyi.cn | IT技术分享</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="ES6">
    <meta name="description" content="ECMAScript 6 (也称 ECMAScript 2015) 是ECMAScript 标准的最新版本，显著地完善了JS中参数的处理方式。除了其它新特性外，我们还可以使用rest参数、默认值、解构赋值等。  对比 Arguments 和 Parameters通常情况下提到 Arguments 和 Parameters， 都认为是可以互换使用的。然而，基于本教程的目的，我们做了明确的区分。在大">
<meta name="keywords" content="ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6新特性(1)——Arguments和Parameters">
<meta property="og:url" content="http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/index.html">
<meta property="og:site_name" content="ChenBlog-chenqiangyi.cn">
<meta property="og:description" content="ECMAScript 6 (也称 ECMAScript 2015) 是ECMAScript 标准的最新版本，显著地完善了JS中参数的处理方式。除了其它新特性外，我们还可以使用rest参数、默认值、解构赋值等。  对比 Arguments 和 Parameters通常情况下提到 Arguments 和 Parameters， 都认为是可以互换使用的。然而，基于本教程的目的，我们做了明确的区分。在大">
<meta property="og:updated_time" content="2017-06-14T13:07:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6新特性(1)——Arguments和Parameters">
<meta name="twitter:description" content="ECMAScript 6 (也称 ECMAScript 2015) 是ECMAScript 标准的最新版本，显著地完善了JS中参数的处理方式。除了其它新特性外，我们还可以使用rest参数、默认值、解构赋值等。  对比 Arguments 和 Parameters通常情况下提到 Arguments 和 Parameters， 都认为是可以互换使用的。然而，基于本教程的目的，我们做了明确的区分。在大">
    
        <link rel="alternate" type="application/atom+xml" title="ChenBlog-chenqiangyi.cn" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">ontheway1215</h5>
          <a href="mailto:chenqy1215@gmail.com" title="chenqy1215@gmail.com" class="mail">chenqy1215@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                文章
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/ontheway1215" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.zhihu.com/people/chen-yi-91-72/activities" target="_blank" >
                <i class="icon icon-lg icon-book"></i>
                知乎
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://home.cnblogs.com/u/ontheway1215/" target="_blank" >
                <i class="icon icon-lg icon-key"></i>
                博客园
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/3230197595/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                微博
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://element.chenqiangyi.cn" target="_blank" >
                <i class="icon icon-lg icon-link"></i>
                element
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">ES6新特性(1)——Arguments和Parameters</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">ES6新特性(1)——Arguments和Parameters</h1>
        <h5 class="subtitle">
            
                <time datetime="2016-08-02T01:05:29.000Z" itemprop="datePublished" class="page-time">
  2016-08-02
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/JavaScript/">JavaScript</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#对比-Arguments-和-Parameters"><span class="post-toc-number">1.</span> <span class="post-toc-text">对比 Arguments 和 Parameters</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#扩展操作符"><span class="post-toc-number">2.</span> <span class="post-toc-text">扩展操作符</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Rest参数"><span class="post-toc-number">3.</span> <span class="post-toc-text">Rest参数</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#解构赋值"><span class="post-toc-number">4.</span> <span class="post-toc-text">解构赋值</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#参数传递"><span class="post-toc-number">5.</span> <span class="post-toc-text">参数传递</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#按值传递参数"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">按值传递参数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#按引用传递参数"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">按引用传递参数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#形参（arguments）和-实参（parameters）的个数不同有两种情况："><span class="post-toc-number">5.3.</span> <span class="post-toc-text">形参（arguments）和 实参（parameters）的个数不同有两种情况：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#必填参数"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">必填参数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参数对象"><span class="post-toc-number">5.5.</span> <span class="post-toc-text">参数对象</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#长度属性"><span class="post-toc-number">5.6.</span> <span class="post-toc-text">长度属性</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#被调用属性与调用属性"><span class="post-toc-number">6.</span> <span class="post-toc-text">被调用属性与调用属性</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#严格模式和非严格模式下的参数对象"><span class="post-toc-number">7.</span> <span class="post-toc-text">严格模式和非严格模式下的参数对象</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#总结"><span class="post-toc-number">8.</span> <span class="post-toc-text">总结</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-ES6新特性(1)——Arguments和Parameters"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">ES6新特性(1)——Arguments和Parameters</h1>
        <div class="post-meta">
            <time class="post-time" title="2016-08-02 09:05:29" datetime="2016-08-02T01:05:29.000Z"  itemprop="datePublished">2016-08-02</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/JavaScript/">JavaScript</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <blockquote>
<p>ECMAScript 6 (也称 ECMAScript 2015) 是ECMAScript 标准的最新版本，显著地完善了JS中参数的处理方式。除了其它新特性外，我们还可以使用rest参数、默认值、解构赋值等。</p>
</blockquote>
<h1 id="对比-Arguments-和-Parameters"><a href="#对比-Arguments-和-Parameters" class="headerlink" title="对比 Arguments 和 Parameters"></a>对比 Arguments 和 Parameters</h1><p>通常情况下提到 Arguments 和 Parameters， 都认为是可以互换使用的。然而，基于本教程的目的，我们做了明确的区分。在大多数标准中，parameters (形式参数) 指声明函数名和函数体的时候使用的参数，而 arguments (实际参数) 指在函数实际调用时，传入的确定值。思考下面这个函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function foo(param1, param2) &#123;</div><div class="line">  // do something</div><div class="line">&#125;</div><div class="line">foo(10, 20);</div></pre></td></tr></table></figure>
<p>在这个函数中， param1 和 param2 是函数的形式参数（形参）, 而在函数foo调用时，传入的 (10 和 20) 则是实际参数（实参）。</p>
<h1 id="扩展操作符"><a href="#扩展操作符" class="headerlink" title="扩展操作符"></a>扩展操作符</h1><p>在 ES5 中，用 apply() 方法可以很方便地将一个数组传递给函数。例如，我们经常把它和 Math.max() 结合使用，来取得数组中的最大值。请看下面代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var myArray = [5, 10, 50];</div><div class="line">Math.max()myArray;        // Error: NaN</div><div class="line">Math.max.apply(Math, myArray);     //50</div></pre></td></tr></table></figure>
<p>Math.max() 方法并不支持传入数组，它只接受数字。所以当我们把数组作为参数传递给它时，就会抛出错误。但是，加上 apply() 方法后，数组会被转换成单独的数字，就能被 Math.max() 处理了。</p>
<p>庆幸的是，ES6 引入了扩展操作符，我们不需要再使用 apply() 方法了。通过扩展操作符，我们可以很方便地为表达式传入多个参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var myArray = [5, 10, 50];</div><div class="line">Math.max(...myArray);      //50</div></pre></td></tr></table></figure>
<p>这里，扩展操作符把 myArray 展开成独立的数值传给了函数。 ES5里面使用 apply() 来模仿操作符是可以达到目的的，只是语法上令人困惑，并且缺乏扩展操作符的灵活性。 扩展操作符不仅易于使用，还涵盖了很多其他特性。例如，它可以被多次使用，还可以在 function 调用时，和其它参数混合使用:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function myFunction() &#123;</div><div class="line">  for(var i in arguments)&#123;</div><div class="line">    console.log(arguments[i]);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">var params = [10, 15];</div><div class="line">myFunction(5, ...params, 20, ...[25]);       // 5 10 15 20 25</div></pre></td></tr></table></figure>
<p>扩展操作符的另一个优点，就是它可以很简单地和构造函数一起使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">new Date(...[2016, 5, 6]);       //  Mon Jun 06 2016</div><div class="line">00 : 00: 00 GMT-0700 (Pacific Daylight Time)</div></pre></td></tr></table></figure>
<p>当然，我们可以用ES5重写上面的代码，但我们则需要用一个复杂的模式来避免类型错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">new Date.apply(null, [2016, 4, 24]);       //  TypeError:Date.apply is not a constructor</div><div class="line">new (Function.prototype.bind.apply(Date,[null].concat([2016, 5, 6])));   // Mon Jun 06 2016 00 : 00 : 00 GMT-0700 (Pacific Daylight Time)</div></pre></td></tr></table></figure>
<p>浏览器对扩展操作符在函数中调用的支持情况</p>
<p>桌面浏览器</p>
<table>
<thead>
<tr>
<th style="text-align:center">Chrome</th>
<th style="text-align:center">Firefox</th>
<th style="text-align:center">Internet Explorer</th>
<th style="text-align:center">Microsoft Edge</th>
<th style="text-align:center">Opera</th>
<th style="text-align:center">Safari</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">46</td>
<td style="text-align:center">27</td>
<td style="text-align:center">–</td>
<td style="text-align:center">supported</td>
<td style="text-align:center">–</td>
<td style="text-align:center">7.1</td>
</tr>
</tbody>
</table>
<p>移动端浏览器：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Chrome for Android</th>
<th style="text-align:center">Firefox Mobile</th>
<th style="text-align:center">Safari</th>
<th style="text-align:center">Oprea Mobile</th>
<th style="text-align:center">IE Mobile</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">46</td>
<td style="text-align:center">27</td>
<td style="text-align:center">8</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table>
<h1 id="Rest参数"><a href="#Rest参数" class="headerlink" title="Rest参数"></a>Rest参数</h1><p>rest参数和扩展操作符拥有相同的语法，不同的是，rest参数是把所有的参数收集起来转换成数组，而扩展操作符是把数组扩展成单独的参数。</p>
<figure class="highlight plain"><figcaption><span>myFunction(...options) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  return options;</div><div class="line">&#125;</div><div class="line">myFunction(&apos;a&apos;, &apos;b&apos;, &apos;c&apos;);     //  [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</div></pre></td></tr></table></figure>
<p>如果函数调用时，没有传入实际参数，则rest参数会输出一个空数组，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function myFunction(...options) &#123;</div><div class="line">  return options;</div><div class="line">&#125;</div><div class="line">myFunction();      //[]</div></pre></td></tr></table></figure>
<p>rest参数在创建一个可变函数（即一个参数个数可变的函数）时尤其有用。rest参数有着数组固有的优势，可以快捷地替换 arguments 对象（下文会解释这个名词）。下面这个函数是用ES5写的，我们来看下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function checkSubstrings(string) &#123;</div><div class="line">  for(var i = 1; i &amp;lt; arguments.length; i++) &#123;</div><div class="line">    if(string.indexOf(arguments[i]) === -1)&#123;</div><div class="line">      return false;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">    return false;</div><div class="line">&#125;</div><div class="line">checkSubstrings(&apos;this is a string&apos;, &apos;is&apos;, &apos;this&apos;);    //true</div></pre></td></tr></table></figure>
<p>该函数检查字符串（this is a string）是否包括这些子串（is, this）。这个函数存在的第一个问题是，我们必须看函数体内是否有多个参数。第二个问题是，循环必须从 1 开始，而不是从 0 开始, 因为 arguments[0] 指向的就是第一个参数（this is a string）。 如果以后我们想要在这个字符串的前面或者后面添加另一个参数，我们可能会忘记更新循环体。而使用rest参数，我们就可以很容易地避免这些问题：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function checkSubstrings(string, ...keys) &#123;</div><div class="line">  for (var key of keys) &#123;</div><div class="line">    if(string.indexOf(key) === -1) &#123;</div><div class="line">      return false;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">    return true;</div><div class="line">&#125;</div><div class="line">checkSubstrings(&apos;this is a string&apos;, &apos;is&apos;, &apos;this&apos;);    //true</div></pre></td></tr></table></figure>
<p>该函数的输出跟前一个函数的输出是一样的。这里再提一下，参数 string 被包含在这个函数的 argument 中，并且第一个被传递进来，剩下的参数都被放到一个数组，并且赋给了名为 keys 的变量。</p>
<p>使用rest参数替代 arguments 对象来提高代码的可读性和避免一些js的优化问题1。 然而，rest参数也不是没有缺点的。例如，它必须是最后一个参数，否则就会报错，如下面函数所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function logArguments(a, ...params, b) &#123;</div><div class="line">  console.log(a, params, b);</div><div class="line">&#125;</div><div class="line">logArguments(5, 10, 15);      //SyntaxError: parameter after rest parameter</div></pre></td></tr></table></figure>
<p>另一个缺点是，一个函数声明只能允许有一个rest参数：</p>
<figure class="highlight plain"><figcaption><span>logArguments(...param1, ...param2) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&#125;</div><div class="line">logArgument(5, 10, 15);      //SyntaxError: parameter after rest parameter</div></pre></td></tr></table></figure>
<p>浏览器对Rest参数的支持情况</p>
<p>桌面浏览器：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Chrome</th>
<th style="text-align:center">Firefox</th>
<th style="text-align:center">Internet Explorer</th>
<th style="text-align:center">Microsoft Edge</th>
<th style="text-align:center">Opera</th>
<th style="text-align:center">Safari</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">47</td>
<td style="text-align:center">15</td>
<td style="text-align:center">–</td>
<td style="text-align:center">supported</td>
<td style="text-align:center">34</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table>
<p>移动端浏览器：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Chrome for Android</th>
<th style="text-align:center">Firefox Mobile</th>
<th style="text-align:center">Safari</th>
<th style="text-align:center">Oprea Mobile</th>
<th style="text-align:center">IE Mobile</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">46</td>
<td style="text-align:center">15</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table>
<p>默认参数</p>
<p>ES5 默认参数</p>
<p>在ES5中，JS 并不支持默认参数, 但是，我们也有一种变通的方案，那就是在函数中使用 OR 操作符（ ||）。我们简单地模仿ES5中的默认参数，请看下面函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function foo(param1, param2) &#123;</div><div class="line">  param1 = param1 || 10;</div><div class="line">  param2 = param2 || 10;</div><div class="line">  console.log(param1, param2);</div><div class="line">&#125;</div><div class="line">foo(5, 5);</div><div class="line">foo(5);</div><div class="line">foo();</div><div class="line">VM2450:4 5 5</div><div class="line">VM2450:4 5 10</div><div class="line">VM2450:4 10 10</div></pre></td></tr></table></figure>
<p>该函数预期传入两个参数，但如果在调用该函数时，没有传入实参，则它会用默认值。在函数体内，如果没有传入实际参数，则会被自动设为 undefined, 所以，我们可以检测这些参数，并且声明他们的默认值。我们可以使用 OR 操作符（||）来检测是否有传入实际参数，并且设定他们的默认值。OR 操作符会检测它的第一个参数，如果有实际值2，则用第一个，如果没有，则用它的第二个参数。</p>
<p>这种方法在函数中普遍使用，但它有一个瑕疵，那就是传入 0 或者 null 也会触发默认值，因为 0 和 null 都被认为是false. 所以，如果我们需要给函数传入 0 和 null 时，我们需要另一种方式去检测这个参数是否缺失：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function foo(param1, param2) &#123;</div><div class="line">  if(param1 === undefined) &#123;</div><div class="line">    param1 = 10;</div><div class="line">  &#125;</div><div class="line">  if(param2 === undefined) &#123;</div><div class="line">    param2 = 10;</div><div class="line">  &#125;</div><div class="line">  console.log(param1, param2);</div><div class="line">&#125;</div><div class="line">foo(0, null);</div><div class="line">foo();</div><div class="line">VM788:8 0 null</div><div class="line">VM788:8 10 10</div></pre></td></tr></table></figure>
<p>在上面这个函数中，只有当所传的参数全等于 undefined 时，才会使用默认值。这种方式需要用到的代码稍微多点，但是安全度更高，我们可以给函数传入 0 和 null 。</p>
<p>ES6 默认参数</p>
<p>有了ES6,我们不需要再去检测哪些值为undefined并且给它们设定默认值了。现在我们可以直接在函数声明中放置默认值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function foo(a = 10, b = 10) &#123;</div><div class="line">  console.log(a, b);</div><div class="line">&#125;</div><div class="line">foo(5);</div><div class="line">foo(0, null);</div><div class="line">VM837:2 5 10</div><div class="line">VM837:2 0 null</div></pre></td></tr></table></figure>
<p>如你所见，省略一个参数，就会触发一个默认值，但是传入 0 或者 null 时，则不会。 我们甚至可以使用函数去找回默认参数的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function getParam() &#123;</div><div class="line">  alert(&quot;getParam was called&quot;);</div><div class="line">  return 3;</div><div class="line">&#125;</div><div class="line">function multiply(param1, param2 = getParam()) &#123;</div><div class="line">  return param1 * param2;</div><div class="line">&#125;</div><div class="line">multiply(2, 5);    //10</div><div class="line">multiply(2);     // 6 (also displays an alert dialog)</div></pre></td></tr></table></figure>
<p>注意 getParam 这个函数只有在第二个参数省略时才会被调用。所以当我们给 multiply 传入两个参数并调用它时，alert是不会出现的。</p>
<p>默认参数还有一个有趣的特性，那就是我们可以在函数声明中指定其它参数和变量的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function myFunction(a = 10, b = a) &#123;</div><div class="line">  console.log(&apos;a = &apos; + a + &apos; ; b = &apos; + b);</div><div class="line">&#125;</div><div class="line">myFunction();       //  a=10; b=10</div><div class="line">myFunction(22);   //  a=22; b=22</div><div class="line">myFunction(2, 4); //  a=2; b=4</div></pre></td></tr></table></figure>
<p>你甚至可以在函数声明中做运算：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function myFunction (a, b = ++a, c = a*b) &#123;</div><div class="line">  console.log(c);</div><div class="line">&#125;</div><div class="line">myFunction(5);    //36</div></pre></td></tr></table></figure>
<p>请注意，JavaScript 和其它语言不同， 它是在函数被调用时，才去求参数的默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function add(value, array = []) &#123;</div><div class="line">  array.push(value);</div><div class="line">  return array;</div><div class="line">&#125;</div><div class="line">add(5);    //  [5]</div><div class="line">add(6);    //  [6], not [5, 6]</div></pre></td></tr></table></figure>
<p>浏览器对默认参数的支持情况</p>
<p>桌面浏览器：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Feature</th>
<th style="text-align:center">Chrome</th>
<th style="text-align:center">Firefox</th>
<th style="text-align:center">Internet Explorer</th>
<th style="text-align:center">Microsoft Edge</th>
<th style="text-align:center">Opera</th>
<th style="text-align:center">Safari</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Basic support</td>
<td style="text-align:center">49</td>
<td style="text-align:center">15</td>
<td style="text-align:center">–</td>
<td style="text-align:center">14</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">Parameters without defaults after default parameter</td>
<td style="text-align:center">49</td>
<td style="text-align:center">26</td>
<td style="text-align:center">–</td>
<td style="text-align:center">14</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table>
<p>移动端浏览器：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Feature</th>
<th style="text-align:center">Chrome</th>
<th style="text-align:center">Firefox</th>
<th style="text-align:center">Internet Explorer</th>
<th style="text-align:center">Microsoft Edge</th>
<th style="text-align:center">Opera</th>
<th style="text-align:center">Safari</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Basic support</td>
<td style="text-align:center">49</td>
<td style="text-align:center">15</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">Parameters without defaults after default parameter</td>
<td style="text-align:center">49</td>
<td style="text-align:center">25</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table>
<h1 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h1><p>解构赋值是ES6的新特性。我们可以从数组和对象中提取值，对变量进行赋值。这种语法清晰且易于理解，尤其是在给函数传参时特别有用。</p>
<p>在ES5里面，我们经常用一个配置对象来处理大量的可选参数， 特别是当对象属性的顺序可变时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function initiateTransfer(options) &#123;</div><div class="line">  var protoclo = options.protocol,</div><div class="line">  port = options.port,</div><div class="line">  retires = options.retries,</div><div class="line">  timeout = options.timeout,</div><div class="line">  log = options.log;</div><div class="line">&#125;</div><div class="line">options = &#123;</div><div class="line">  protocol: &apos;http&apos;,</div><div class="line">  port: 800,</div><div class="line">  delay: 150,</div><div class="line">  retries: 10,</div><div class="line">  timeout: 500,</div><div class="line">  log: true</div><div class="line">&#125;;</div><div class="line">initiateTransfer(options);</div></pre></td></tr></table></figure>
<p>这种方式实现起来很好，已经被许多JS开发者所采用。 只是我们必须看函数内部，才知道函数预期需要哪些参数。结合解构赋值，我们就可以在函数声明中清晰地表示这些参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function initiateTransfer(&#123;protocol, port, delay, retries, timeout, log&#125;) &#123;</div><div class="line">  //code to initiate transfer</div><div class="line">&#125;;</div><div class="line">var options = &#123;</div><div class="line">  protocol: &apos;http&apos;,</div><div class="line">  port: 800,</div><div class="line">  delay: 150,</div><div class="line">  retries: 10,</div><div class="line">  timeout: 500,</div><div class="line">  log: true</div><div class="line">&#125;</div><div class="line">initiateTransfer(options);</div></pre></td></tr></table></figure>
<p>在该函数中，我们没有传入一个配置对象，而是以对象解构赋值的方式，给它传参数。这样做不仅使这个函数更加简明，可读性也更高。</p>
<p>我们也可以把解构赋值传参和其它规则的参数一起使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function initiateTransfer(param1, &#123;protocol, port, delay, retires, timeout,log&#125;) &#123;</div><div class="line">  //code to initiate transfer</div><div class="line">&#125;</div><div class="line">initiateTransfer(&apos;some value&apos;, options);</div></pre></td></tr></table></figure>
<p>注意如果函数调用时，参数被省略掉，则会抛出错误，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function initiateTransfer(&#123;protocol, port, delay, retries, timeout, log&#125;) &#123;</div><div class="line">  //code to initiate transfer</div><div class="line">&#125;</div><div class="line">initiateTransfer();     //TypeError:Cannot match against &apos;undefined&apos; or &apos;null&apos;</div></pre></td></tr></table></figure>
<p>当我们需要让参数都是必填时，这种方法能够得到我们想要的结果，但如果我们希望参数是可选的时候呢？想要让参数缺失时不会报错，我们就需要给默认参数设定一个默认值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function initiateTransfer (&#123;protocol, port, delay, retries, timeout, log&#125; = &#123;&#125;) &#123;</div><div class="line">  //code to initiate transfer</div><div class="line">&#125;</div><div class="line">initiateTransfer();    //  no error</div></pre></td></tr></table></figure>
<p>上面这个函数中，需要解构赋值的参数有了一个默认值，这个默认值就是一个空对象。这时候，函数被调用时，即使没有传入参数，也不会报错了。</p>
<p>我们也可以给每个被解构的参数设定默认值，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function initiateTransfer(&#123;</div><div class="line">  protocol = &apos;http&apos;,</div><div class="line">  port = 800,</div><div class="line">  delay = 150,</div><div class="line">  retries = 10,</div><div class="line">  timeout = 500,</div><div class="line">  log = true</div><div class="line">&#125;) &#123;</div><div class="line">  //code to initiate transfer</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在这个例子中，每个属性都有一个默认值，我们不需要手动去检查哪个参数值是 undefined ，然后在函数中给它设定默认值了。</p>
<h1 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h1><p>参数能通过引用或值传递给函数。修改按引用传递的参数，一般反映在全局中，而修改按值传递的参数，则只是反映在函数内部。</p>
<p>在像 Visual Basic 和 PowerShell 这样的语言中，我们可以选择是按引用还是按值来传递参数，但是在 JavaScript 中则不行。</p>
<h2 id="按值传递参数"><a href="#按值传递参数" class="headerlink" title="按值传递参数"></a>按值传递参数</h2><p>从技术上来讲，JavaScript 只允许按值传参。当我们给函数按值传递一个参数时，该函数的作用域内就已经复制了这个值。因此，这个值的改变，只会在函数内部反映出来。请思考下面这个列子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var a = 5;</div><div class="line">function increment(a) &#123;</div><div class="line">  a = ++a;</div><div class="line">  console.log(a);</div><div class="line">&#125;</div><div class="line">increment(a);        //6</div><div class="line">console.log(a);     //5</div></pre></td></tr></table></figure>
<p>这里，修改函数里面的参数 a = ++a，是不会影响到原来a的值。 所以在函数外面打印 a 的值，输出仍然是 5。</p>
<h2 id="按引用传递参数"><a href="#按引用传递参数" class="headerlink" title="按引用传递参数"></a>按引用传递参数</h2><p>在JavaScript中，一切都是按值传递的。但当我们给函数传一个变量，而这个变量所指向的是一个对象（包括数组）时，这个 变量 就是对象的一个引用。通过这个变量来改变对象的属性值，是会从根本上改变这个对象的。</p>
<p>来看下面这个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function foo(param) &#123;</div><div class="line">  param.bar = &apos;new value&apos;;</div><div class="line">&#125;</div><div class="line">obj = &#123;</div><div class="line">  bar : &apos;value&apos;</div><div class="line">&#125;</div><div class="line">console.log(obj.bar);    //  value</div><div class="line">foo(obj);</div><div class="line">console.log(obj.bar);    //  new value</div></pre></td></tr></table></figure>
<p>如你所见，对象的属性值在函数内部被修改了，被修改的值在函数外面也是可见的。</p>
<p>当我们传递一个没有初始值的参数时，如数组或对象，会隐形地创建了一个变量，这个变量指向记忆中原对象所在的位置。这个变量随后被传递给了函数，在函数内部对这个变量进行修改将会影响到原对象。</p>
<p>参数类型检测、参数缺失或参数多余</p>
<p>在强类型语言中，我们必须在函数声明中明确参数的类型，但是 JavaScript 没有这种特性。在JavaScript中，我们传递给函数的参数个数不限，也可以是任何类型的数据。</p>
<p>假设现在有一个函数，这个函数只接受一个参数。但是当函数被调用时，它本身没有限制传入的参数只能是一个，我们可以随意地传入一个、两个、甚至是更多。我们也可以什么都不传，这样都不会报错。</p>
<h2 id="形参（arguments）和-实参（parameters）的个数不同有两种情况："><a href="#形参（arguments）和-实参（parameters）的个数不同有两种情况：" class="headerlink" title="形参（arguments）和 实参（parameters）的个数不同有两种情况："></a>形参（arguments）和 实参（parameters）的个数不同有两种情况：</h2><ul>
<li>实参少于形参</li>
</ul>
<p>缺失的参数都会等同于 undefined。</p>
<ul>
<li>实参多于形参</li>
</ul>
<p>多余的参数都将被忽略，但它们会以数组的形式保存于变量 arguments 中（下文会讨论到）。</p>
<h2 id="必填参数"><a href="#必填参数" class="headerlink" title="必填参数"></a>必填参数</h2><p>如果一个参数在函数调用时缺失了，它将被设为 undefined。基于这一点，我们可以在参数缺失时抛出一个错误：</p>
<figure class="highlight plain"><figcaption><span>foo(mandatory, optional) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">  if (mandatory === undefined) &#123;</div><div class="line">    throw new Error (&apos;Missing parameter: mandatory&apos;);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在 ES6 中，我们可以更好地利用这个特性，使用默认参数来设定必填参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function throwError() &#123;</div><div class="line">  throw new Error(&apos;Missing parameter&apos;);</div><div class="line">&#125;</div><div class="line">function foo(parama1 = throwError(), param2 =</div><div class="line">throwError()) &#123;</div><div class="line">  //do something</div><div class="line">&#125;</div><div class="line">foo(10,20);    //ok</div><div class="line">foo(10);    //Error: missing parameter</div></pre></td></tr></table></figure>
<h2 id="参数对象"><a href="#参数对象" class="headerlink" title="参数对象"></a>参数对象</h2><p>为了取代参数对象，rest参数在 ECMAScript 4 中就已经得到支持，但是 ECMAScript 4 没有落实。随着 ECMAScript 6 版本的发布，JS 正式支持rest参数。它也拟定计划，准备抛弃 对参数对象 arguments object 的支持。</p>
<p>参数对象是一个类数组对象，可在一切函数内使用。它允许通过数字而不是名称，来找回被传递给函数的参数值。这个对象使得我们可以给函数传递任何参数。思考以下代码段：</p>
<figure class="highlight plain"><figcaption><span>checkParams(param1) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  console.log(param1);      //  2</div><div class="line">  console.log(arguments[0], arguments[1], arguments[2]);      //  2  3  4</div><div class="line">  console.log(param1 + arguments[0]);      //  2 + 2</div><div class="line">&#125;</div><div class="line">checkParams(2, 3, 4);</div></pre></td></tr></table></figure>
<p>该函数预期接收一个参数。但是当我们给它传入两个参数并且调用它时，第一个参数通过名为 param1 的形参或者参数对象 arguments[0] 被函数所接受，而第二个参数只能被放在argument[1] 里面。此外，请注意，参数对象可以与命名参数一起使用。</p>
<p>参数对象给每个被传递给函数的参数提供了一个入口，并且第一个入口的下标从 0 开始。如果我们要给上面这个函数传递更多的参数，我们可以写 arguments[2],arguments[3] 等等。</p>
<p>我们甚至可以跳过设定命名参数这一步，直接使用参数对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function checkParams() &#123;</div><div class="line">  console.log(arguments[1], arguments[0] ,arguments[2]);</div><div class="line">&#125;</div><div class="line">checkParams(2, 4, 6)      //  4  2  6</div></pre></td></tr></table></figure>
<p>事实上，命名参数只是为了方便使用，并不是必须的。类似地，rest参数也可用于反映被传递的参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function checkParams(...params) &#123;</div><div class="line">  console.log(params[1], params[0], params[2]);    // 4 2 6</div><div class="line">  console.log(arguments[1], arguments[0], arguments[2]);    // 4 2 6</div><div class="line">&#125;</div><div class="line">checkParams(2, 4, 6);</div></pre></td></tr></table></figure>
<p>参数对象是一个类数组的对象，只是它没有数组本身具备的方法，如slice() 和 foreach()。 如果要在参数对象中使用数组的方法，首先要把它转换成一个真正的数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function sort() &#123;</div><div class="line">  var a = Array.prototype.slice.call(arguments);</div><div class="line">  return a.sort();</div><div class="line">&#125;</div><div class="line">sort(40, 20, 50,30);      //  [20, 30, 40, 50]</div></pre></td></tr></table></figure>
<p>在该函数中，采用了 Array.prototype.slice.call() 来快速地把参数对象转换成一个数组。接着，在 sort() 方法中，为这个数组排序并且把它返回。</p>
<p>ES6 新增了更直接的方法，用 Array.from() 把任何类数组对象转换成数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function sort() &#123;</div><div class="line">  var a = Array.from(arguments);</div><div class="line">  return a.sort();</div><div class="line">&#125;</div><div class="line">sort(40, 20, 50,30);      //  [20, 30, 40, 50]</div></pre></td></tr></table></figure>
<h2 id="长度属性"><a href="#长度属性" class="headerlink" title="长度属性"></a>长度属性</h2><p>尽管参数对象从技术上来讲，不算是一个数组，但仍有一个长度属性，来检测传递给函数的参数个数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function countArguments() &#123;</div><div class="line">  console.log(arguments.length);</div><div class="line">&#125;</div><div class="line">countArguments();      // 0</div><div class="line">countArguments(10, null, &quot;string&quot;);      //3</div></pre></td></tr></table></figure>
<p>通过 length 属性，我们可以更好地控制传递给函数的参数个数。举个例子，如果一个函数只要求两个参数，那么我们就可以使用 length 属性来检测所传入的参数个数，如果少于要求的个数，则抛出错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function foo(param1, param2) &#123;</div><div class="line">  if(arguments.length &amp;lt; 2) &#123;</div><div class="line">    throw new Error (&quot;This function expects at least two arguments&quot;);</div><div class="line">  &#125; else if (arguments.length === 2) &#123;</div><div class="line">    //do something</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>rest参数是数组，所以他们都有 length 属性。 所以上面的代码，在ES6里面可以用rest参数写成下面这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function foo(...params) &#123;</div><div class="line">  if (params.length &amp;lt; 2) &#123;</div><div class="line">    throw new Error(&quot;This function expects at least two arguments&quot;);</div><div class="line">  &#125; else if (params.length === 2) &#123;</div><div class="line">    //do something</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="被调用属性与调用属性"><a href="#被调用属性与调用属性" class="headerlink" title="被调用属性与调用属性"></a>被调用属性与调用属性</h1><p>被调用 属性指向当前正在执行的函数，而 调用 属性则指向那个调用了 当前正在执行的函数 的函数。 在ES5的严格模式下，这些属性是不被支持的，如果尝试使用它们，则会报错。</p>
<p>arguments.callee 这个属性在递归函数中很有用，尤其在匿名函数中。因为匿名函数没有名称，只能通过 arguments.callee 来指向它。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var result = (function(n) &#123;</div><div class="line"> if (n &amp;lt;= 1) &#123;</div><div class="line">  return 1;</div><div class="line">&#125; else &#123;</div><div class="line"> return n * arguments.callee(n - 1);</div><div class="line">&#125;</div><div class="line">&#125;)(4);     //undefined</div></pre></td></tr></table></figure>
<h1 id="严格模式和非严格模式下的参数对象"><a href="#严格模式和非严格模式下的参数对象" class="headerlink" title="严格模式和非严格模式下的参数对象"></a>严格模式和非严格模式下的参数对象</h1><p>在ES5非严格模式下，参数对象 有个不一般的特性：它能使 自身的值 跟 与之相对应的命名参数的值 保持同步。</p>
<p>请看下面这个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function foo(param) &#123;</div><div class="line">  console.log(param === arguments[0]);      // true</div><div class="line">  arguments[0] = 500;</div><div class="line">  console.log(param === arguments[0]);      //true</div><div class="line">  return param</div><div class="line">&#125;</div><div class="line">foo(200);        //500</div></pre></td></tr></table></figure>
<p>在这个函数里面，arguments[0] 被重新赋值为 500。由于 arguments 的值总是和对应的命名参数保持同步，所以改变了arguments[0] 的值，也就相应的改变了 param 的值。实际上，他们就像是同一个变量，拥有两个不同的名字而已。而在 ES5严格模式下，参数对象的这种特性则被移除了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&quot;use strict&quot;;</div><div class="line">function foo(param) &#123;</div><div class="line">  console.log(param === arguments[0]);      //  true</div><div class="line">  arguments[0] = 500;</div><div class="line">  console.log(param === arguments[0]);      //  false</div><div class="line">  return param;</div><div class="line">&#125;</div><div class="line">foo(200);       //  200</div></pre></td></tr></table></figure>
<p>加上 严格模式， 现在改变 arguments[0] 的值是不会影响到 param 的值了，打印出来的值也跟预期的一致。 在 ES6中 该函数的输出跟在 ES5 严格模式下是一样的。需要记住的是，当函数声明中使用了默认值时，参数对象是不会受到影响的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function foo(param1, param2 = 10, param3 = 20) &#123;</div><div class="line">  console.log(param1 === arguments[0]);    //  true</div><div class="line">  console.log(param2 === arguments[1]);    //  true</div><div class="line">  console.log(param3 === arguments[2]);    //  false</div><div class="line">  console.log(arguments[2]);      //  undefined</div><div class="line">  console.log(param3);        //  20</div><div class="line">&#125;</div><div class="line">foo(&apos;string1&apos;, &apos;string2&apos;);</div></pre></td></tr></table></figure>
<p>在这个函数中，尽管 param3 有默认值 20，但是 arguments[2] 仍然是 undefined, 因为函数调用时只传了两个值。换言之，设定默认值对参数对象是没有任何影响的。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>ES6 给 JS 带来了上百个大大小小的改进。 越来越多的开发者正使用ES6的新特性, 所以我们都需要去了解它们。在本教程中，我们学习了ES6是如何改善JS的参数处理的，但我们仍只是知晓了ES6的皮毛。更多新的、有趣的特性值得我们去探讨。</p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        

        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2016/08/02/ES6新特性(1)——Arguments和Parameters/" target="_blank" rel="external">http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/</a>
        
    </div>
    <footer>
        <a href="http://www.chenqiangyi.cn">
            <img src="/img/avatar.jpg" alt="ontheway1215">
            ontheway1215
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ES6/">ES6</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/&title=《ES6新特性(1)——Arguments和Parameters》 — ChenBlog-chenqiangyi.cn&pic=http://www.chenqiangyi.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/&title=《ES6新特性(1)——Arguments和Parameters》 — ChenBlog-chenqiangyi.cn&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ES6新特性(1)——Arguments和Parameters》 — ChenBlog-chenqiangyi.cn&url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/&via=http://www.chenqiangyi.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2016/08/04/ES6-手册/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">ES6-手册</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2016/06/13/javascript和jquery读取和修改HTTP headers/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">javascript和jquery读取和修改HTTP headers</h4>
      </a>
    </div>
  
</nav>



    










    <div id="cloud-tie-wrapper" class="comments cloud-tie-wrapper"></div>
    <script>
    var cloudTieConfig = {
        url: 'http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/index.html',
        sourceId: 'ES6新特性(1)——Arguments和Parameters',
        productKey: '506ecdd478bc49caab66fa9b51442d32',
        target: 'cloud-tie-wrapper',
        pcFiles: [
            '//unpkg.com/hexo-theme-material-indigo@latest/css/cloudTie/pc.css',
            '//unpkg.com/hexo-theme-material-indigo@latest/js/cloudTie/pc.min.js',
        ],
        mobileFiles: [
            '//unpkg.com/hexo-theme-material-indigo@latest/css/cloudTie/mobile.css',
            '//unpkg.com/hexo-theme-material-indigo@latest/js/cloudTie/mobile.min.js'
        ]
    };
    </script>
    <script src="//unpkg.com/hexo-theme-material-indigo@latest/js/cloudTie/loader.min.js"></script>







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        
        <li>
            <img src="/img/wechat.jpg" title="微信打赏二维码" alt="微信打赏二维码">
            <p>微信</p>
        </li>
        

        
        <li>
            <img src="/img/alipay.jpg" title="支付宝打赏二维码" alt="支付宝打赏二维码">
            <p>支付宝</p>
        </li>
        
    </ul>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


    </div>
    <div class="bottom">
        <p>
            <span>ontheway1215 &copy; 2015 - 2017</span>
        </p>
        <p><a href="http://www.miibeian.gov.cn/state/outPortal/loginPortal.action">豫ICP备16014588号-3</a></p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/&title=《ES6新特性(1)——Arguments和Parameters》 — ChenBlog-chenqiangyi.cn&pic=http://www.chenqiangyi.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/&title=《ES6新特性(1)——Arguments和Parameters》 — ChenBlog-chenqiangyi.cn&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ES6新特性(1)——Arguments和Parameters》 — ChenBlog-chenqiangyi.cn&url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/&via=http://www.chenqiangyi.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.chenqiangyi.cn/2016/08/02/ES6新特性(1)——Arguments和Parameters/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtElEQVR42u3aQXLCMAwFUO5/abrtDA18SRYwnZdVhwbjl4WtfPl2i6/7w3X139+fPN6TfOv5r9w2Ljw8PLzx1Hs/fHV/9RFUR3s+Nzw8PLw93tWKmiz0yX/z5b43n8vP8fDw8L6Ad7kEF7eQFws6Hh4e3j/iVQOF58V08l08PDy87+RNhs43ieqG8dasBQ8PD69fuxbK2U/9vdLfw8PDwxt31avNsHxTSeKMvOC+nC0eHh7eAi9fcJOC9VQAUQ1EXswTDw8Pb41XWGrjdlc1cp2HGn+Mg4eHh3eUl4SqedMrYc/bYIWHi4eHh7fASxboavuqF8VWC+vkTjw8PLwN3qklONkqmst6MNqLLQEPDw9vjTcn5SNUQ4fmpoWHh4e3wMvb9r12V7PZHwQcB4IJPDw8vBav177KY9ycWi2yo40HDw8Pb4HXK2T3ppI84vzAAR4eHt4Gr1qk9srifOPpFejlQ1d4eHh4h3hXw1VbXHmzqoopt+7w8PDw3sI7GxlUH9P8QUcxBB4eHt6Al7/2V9v51Xg3DzJGd+Lh4eGNeZPSOYedOuOQbyp4eHh4e7xTsUK+6Cek3sbw4r0BDw8P7xCv2mSqtrLyx5RvJIVHgIeHh7fAyxfx3hGBZtga97CikfHw8PAWeHnLqlra5gV6XqbnrTs8PDy8PV5esPaW8t7nvVi5MCE8PDy8MS+JYpOiNh8nL5pHVDw8PLxlXv4WP3/fz8v06oaEh4eHt8e7F69eKNA7QNBrg/1xdAAPDw/vKO9sYDE5KHCqhdbcZvDw8PCKvMlm0Gv25xHD/PgCHh4e3h7vU/HubfvCw8PD+wJeUgrn9XvvgFcecODh4eF9P68av1bL7nwTwsPDw9vmJV+eRK49ZPV4weXJCDw8PLyjvOobfTWGSKaeN8/WAws8PDy8Z9cPmEn5PsGK0KMAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };



</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
